# Обязательные поля для заполнения

Документ содержит полный список обязательных полей для всех таблиц приложения database/coursework/app.

## 1. Пациенты (Patients)

### Обязательные поля:
- **Фамилия** (last_name)
- **Имя** (first_name)
- **Дата рождения** (date_of_birth) - не позднее текущей даты
- **Пол** (gender) - выбор: Мужской/Женский
- **Страна** (country_id)
- **Город** (town_id)
- **Улица** (street_id)
- **Дом** (building)

### Необязательные поля:
- Отчество (patronymic)
- Телефон (phone_number) - маска: +_-___-___-__-__, 11 цифр
- Email (email)
- СНИЛС (snils) - маска: ___-___-___ __, 11 цифр
- Полис ОМС (insurance_policy)
- Квартира (apartment_number)
- Индекс (zipcode)

---

## 2. Врачи (Doctors)

### Обязательные поля:
- **Фамилия** (last_name)
- **Имя** (first_name)

### Необязательные поля:
- Отчество (patronymic)
- Телефон (phone_number) - маска: +_-___-___-__-__, 11 цифр
- Email (email)

---

## 3. Приёмы (Appointments)

### Обязательные поля:
- **Пациент** (patient_id) - выбор из списка
- **Врач** (doctor_id) - выбор из списка
- **Дата и время** (scheduled_at) - формат: datetime-local
- **Статус** (status) - выбор:
  - Запланирован (scheduled)
  - Подтверждён (confirmed)
  - Идёт приём (in_progress)
  - Завершён (completed)
  - Отменён (cancelled)
  - Неявка (no_show)

### Необязательные поля:
- Цель визита (purpose) - текстовое поле

---

## 4. Медицинские записи (Medical Records)

### Обязательные поля:
- **Приём** (appointment_id) - выбор из списка с отображением статуса
- **Пациент** (patient_id) - *заполняется автоматически при выборе приёма*
- **Диагноз** (diagnosis_id) - выбор из справочника МКБ-10

### Необязательные поля:
- Описание (description) - текстовое поле

---

## 5. Анализы пациентов (Analyses)

### Обязательные поля:
- **Тип анализа** (analysis_catalog_id) - выбор из каталога
- **Приём** (appointment_id) - выбор из списка с отображением статуса
- **Статус** (status) - выбор:
  - Ожидает (pending)
  - Выполнен (completed)
- **Дата назначения** (scheduled_at) - формат: datetime-local

### Необязательные поля:
- Диагноз (diagnosis_id)
- Дата выполнения (completed_at) - формат: datetime-local, должна быть >= даты назначения
- Результат (result) - текстовое поле

---

## 6. Назначения процедур (Prescription Procedures)

### Обязательные поля:
- **Медицинская запись** (medical_record_id) - выбор из списка
- **Процедура** (procedure_id) - выбор из справочника
- **Количество** (quantity) - число >= 1

### Необязательные поля:
- Длительность в минутах (duration_minutes) - число >= 1

---

## 7. Специальности врачей (Specialties)

### Обязательные поля:
- **Название** (name)

### Необязательные поля:
- Описание (description) - текстовое поле

---

## 8. Кабинеты (Rooms)

### Обязательные поля:
- **Номер кабинета** (number)
- **Тип** (room_type) - выбор из 16 типов:
  - Терапевтический (therapist)
  - Общей практики (general_practice)
  - Педиатрический (pediatric)
  - Специалист (specialist)
  - Профосмотр (preventive_checkup)
  - Лаборатория (laboratory)
  - Функциональная диагностика (functional_diagnostics)
  - Рентген (xray)
  - УЗИ (ultrasound)
  - Процедурный (procedure)
  - Прививочный (vaccination)
  - Перевязочная (dressing)
  - Физиотерапия (physiotherapy)
  - Стоматология (dental)
  - Неотложная помощь (emergency)
  - Административный (administrative)

### Необязательные поля:
- Этаж (floor) - число >= 1
- Описание (description) - текстовое поле

---

## 9. Диагнозы МКБ-10 (Diagnoses)

### Обязательные поля:
- **Код МКБ-10** (code) - пример: J06.9
- **Название** (name)

### Необязательные поля:
- Описание (description) - текстовое поле

---

## 10. Лекарства (Drugs)

### Обязательные поля:
- **Код** (code) - пример: IBU
- **Название** (name)

---

## 11. Процедуры (Procedures)

### Обязательные поля:
- **Код** (code) - пример: ECG
- **Название** (name)

### Необязательные поля:
- Описание (description) - текстовое поле

---

## 12. Каталог анализов (Analyses Catalog)

### Обязательные поля:
- **Код** (code) - пример: OAK
- **Название** (name)

### Необязательные поля:
- Описание (description) - текстовое поле

---

## 13. Расписание врачей (Doctor Rooms)

### Обязательные поля:
- **Врач** (doctor_id) - выбор из списка
- **Кабинет** (room_id) - выбор из списка с отображением номера и этажа
- **День недели** (day_of_week) - выбор: 1-7 (Пн-Вс)
- **Начало смены** (start_time) - формат: time (HH:MM)
- **Конец смены** (end_time) - формат: time (HH:MM), должно быть > start_time

---

## Общие правила валидации

### Автоматическая обработка данных (FormModal.jsx):
1. **Trim**: Все текстовые поля автоматически обрезаются от пробелов перед сохранением
2. **СНИЛС**: Если указан, должен содержать ровно 11 цифр (маска: `___-___-___ __`)
3. **Телефон**: Если указан, должен содержать ровно 11 цифр (маска: `+_-___-___-__-__`)

### Специфические валидации:
- **Дата рождения пациента**: Не может быть позднее текущей даты
- **Дата выполнения анализа**: Не может быть раньше даты назначения
- **Время смены врача**: Конец должен быть позже начала
- **Количество процедур**: Должно быть >= 1
- **Длительность процедуры**: Если указана, должна быть >= 1

---

## Связанные файлы

- Общая форма для всех таблиц: `/client/src/components/FormModal.jsx`
- Компоненты таблиц: `/client/src/components/*Table.jsx`
- API клиент: `/client/src/api.js`
- Хук для CRUD операций: `/client/src/hooks/useCrud.js`

---

**Дата создания документа**: 2026-02-25
**Версия приложения**: database/coursework/app